<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ–Ω–∏ –°–æ–∑–Ω–∞–Ω–∏—è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #0f3460 100%);
            color: #fff;
            min-height: 100vh;
            padding: 0;
            overflow-x: hidden;
        }

        .top-bar {
            background: rgba(0, 0, 0, 0.9);
            padding: 8px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #ff0066;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .stat-mini {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 13px;
            padding: 5px 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border: 1px solid #444;
        }

        .stat-mini span {
            color: #00ff88;
            font-weight: bold;
            margin-left: 3px;
        }

        .anxiety-mini {
            height: 6px;
            background: rgba(0, 0, 0, 0.8);
            border-bottom: 1px solid #ff6600;
        }

        .anxiety-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #ffaa00, #ff6600, #ff0000);
            width: 0%;
            transition: width 0.5s ease;
        }

        .game-wrapper {
            max-width: 800px;
            margin: 0 auto;
            padding: 15px;
        }

        .game-container {
            background: rgba(0, 0, 0, 0.85);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #ff0066;
            box-shadow: 0 0 30px rgba(255, 0, 102, 0.4);
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .menu-title {
            font-size: 36px;
            text-align: center;
            color: #ff0066;
            text-shadow: 0 0 20px #ff0066;
            margin-bottom: 10px;
        }

        .menu-subtitle {
            text-align: center;
            font-size: 16px;
            color: #aaa;
            margin-bottom: 20px;
        }

        .menu-description {
            text-align: center;
            line-height: 1.6;
            margin-bottom: 25px;
            color: #ccc;
            font-size: 14px;
        }

        .btn {
            width: 100%;
            padding: 12px;
            font-size: 15px;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin: 8px 0;
            transition: all 0.3s;
            text-transform: uppercase;
        }

        .btn-primary {
            background: linear-gradient(135deg, #ff0066, #ff3388);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 0, 102, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 0, 102, 0.6);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #444, #666);
            color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
        }

        .level-info {
            text-align: center;
            margin-bottom: 15px;
            padding: 12px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 8px;
            border: 1px solid #00ff88;
        }

        .level-number {
            font-size: 20px;
            color: #00ff88;
            margin-bottom: 3px;
        }

        .level-name {
            font-size: 14px;
            color: #aaa;
        }

        .scenario {
            background: rgba(255, 0, 102, 0.1);
            padding: 18px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 3px solid #ff0066;
            line-height: 1.6;
            font-size: 15px;
            min-height: 100px;
        }

        .choices {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        /* –ë–ï–ó –¶–í–ï–¢–ù–´–• –ü–û–î–°–ö–ê–ó–û–ö - –í–°–ï –°–ï–†–´–ï */
        .choice {
            padding: 14px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid #555;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            text-align: left;
        }

        .choice:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: #999;
            transform: translateX(8px);
        }

        .result-title {
            font-size: 32px;
            text-align: center;
            margin-bottom: 20px;
            color: #ff0066;
            text-shadow: 0 0 15px #ff0066;
        }

        .result-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .result-box {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #444;
        }

        .result-box-value {
            font-size: 28px;
            color: #00ff88;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .result-box-label {
            font-size: 11px;
            color: #aaa;
        }

        .result-message {
            background: rgba(255, 0, 102, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            line-height: 1.6;
            font-size: 14px;
            border: 1px solid #ff0066;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .shake {
            animation: shake 0.4s;
        }

        @media (max-width: 768px) {
            .top-bar {
                flex-wrap: wrap;
                gap: 8px;
                justify-content: center;
            }
            .stat-mini {
                font-size: 12px;
                padding: 4px 8px;
            }
            .game-wrapper {
                padding: 10px;
            }
            .game-container {
                padding: 18px;
            }
            .menu-title {
                font-size: 28px;
            }
            .scenario {
                padding: 15px;
                font-size: 14px;
            }
            .choice {
                padding: 12px;
                font-size: 13px;
            }
            .result-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }
            .result-box {
                padding: 12px;
            }
            .result-box-value {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="top-bar">
        <div class="stat-mini">üéØ <span id="stat-level">1</span></div>
        <div class="stat-mini">‚≠ê <span id="stat-score">0</span></div>
        <div class="stat-mini">üíé <span id="stat-decisions">0</span></div>
        <div class="stat-mini">üò∞ <span id="stat-anxiety">0%</span></div>
    </div>

    <div class="anxiety-mini">
        <div class="anxiety-fill" id="anxiety-fill"></div>
    </div>

    <div class="game-wrapper">
        <div class="game-container" id="main-container">
            
            <div class="screen active" id="menu-screen">
                <h1 class="menu-title">üé≠ –¢–ï–ù–ò –°–û–ó–ù–ê–ù–ò–Ø</h1>
                <p class="menu-subtitle">–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç—Ä–∏–ª–ª–µ—Ä</p>
                <p class="menu-description">
                    –ü–æ–≥—Ä—É–∑–∏—Ç–µ—Å—å –≤ –º–∏—Ä –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å—Ç—Ä–∞—Ö–æ–≤ –∏ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π. 
                    –ö–∞–∂–¥–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∏–º–µ–µ—Ç –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è.
                    –°–º–æ–∂–µ—Ç–µ –ª–∏ –≤—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–∞—Å—Å—É–¥–æ–∫?
                </p>
                <button class="btn btn-primary" onclick="startGame()">‚ñ∂ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
                <button class="btn btn-secondary" onclick="showRules()">üìñ –ü—Ä–∞–≤–∏–ª–∞</button>
            </div>

            <div class="screen" id="game-screen">
                <div class="level-info">
                    <div class="level-number" id="level-display">–£—Ä–æ–≤–µ–Ω—å 1</div>
                    <div class="level-name" id="level-name">–ü—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ</div>
                </div>
                <div class="scenario" id="scenario-text">
                    –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è...
                </div>
                <div class="choices" id="choices-container"></div>
            </div>

            <div class="screen" id="result-screen">
                <h2 class="result-title" id="result-title">–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞</h2>
                <div class="result-grid">
                    <div class="result-box">
                        <div class="result-box-value" id="final-score">0</div>
                        <div class="result-box-label">–ë–∞–ª–ª–æ–≤</div>
                    </div>
                    <div class="result-box">
                        <div class="result-box-value" id="final-level">0</div>
                        <div class="result-box-label">–£—Ä–æ–≤–Ω–µ–π</div>
                    </div>
                    <div class="result-box">
                        <div class="result-box-value" id="final-decisions">0</div>
                        <div class="result-box-label">–†–µ—à–µ–Ω–∏–π</div>
                    </div>
                    <div class="result-box">
                        <div class="result-box-value" id="final-anxiety">0%</div>
                        <div class="result-box-label">–¢—Ä–µ–≤–æ–≥–∏</div>
                    </div>
                </div>
                <div class="result-message" id="result-message">
                    –í–∞—à –ø—É—Ç—å –∑–∞–≤–µ—Ä—à—ë–Ω...
                </div>
                <button class="btn btn-primary" onclick="restartGame()">üîÑ –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                <button class="btn btn-secondary" onclick="backToMenu()">üè† –í –º–µ–Ω—é</button>
            </div>

        </div>
    </div>

    <script>
        let gameState = {
            level: 1,
            score: 0,
            anxiety: 0,
            decisions: 0,
            currentScenario: 0
        };

        const scenarios = [
            {
                level: 1, name: "–ü—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ",
                text: "–í—ã –ø—Ä–æ—Å—ã–ø–∞–µ—Ç–µ—Å—å –≤ –Ω–µ–∑–Ω–∞–∫–æ–º–æ–π –∫–æ–º–Ω–∞—Ç–µ. –°—Ç–µ–Ω—ã –ø–æ–∫—Ä—ã—Ç—ã —Å—Ç—Ä–∞–Ω–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏. –ó–∞ –æ–∫–Ω–æ–º –≥—É—Å—Ç–æ–π —Ç—É–º–∞–Ω. –¢–µ–ª–µ—Ñ–æ–Ω –Ω–∞ —Å—Ç–æ–ª–µ –º–∏–≥–∞–µ—Ç –∫—Ä–∞—Å–Ω—ã–º. –ß—Ç–æ –≤—ã —Å–¥–µ–ª–∞–µ—Ç–µ?",
                choices: [
                    { text: "üì± –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ", anxiety: 5, score: 15 },
                    { text: "üîç –ò–∑—É—á–∏—Ç—å —Å–∏–º–≤–æ–ª—ã –Ω–∞ —Å—Ç–µ–Ω–∞—Ö", anxiety: -3, score: 25 },
                    { text: "üö™ –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ–∫–∏–Ω—É—Ç—å –∫–æ–º–Ω–∞—Ç—É", anxiety: 12, score: 20 },
                    { text: "ü™ü –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –æ–∫–Ω–æ", anxiety: 7, score: 18 }
                ]
            },
            {
                level: 2, name: "–ö–æ—Ä–∏–¥–æ—Ä —Ç–µ–Ω–µ–π",
                text: "–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –∫–æ—Ä–∏–¥–æ—Ä. –¢–µ–Ω–∏ –Ω–∞ —Å—Ç–µ–Ω–∞—Ö –¥–≤–∏–∂—É—Ç—Å—è —Å–∞–º–∏ –ø–æ —Å–µ–±–µ. –°–ª—ã—à–Ω—ã —à–∞–≥–∏ –ø–æ–∑–∞–¥–∏, –Ω–æ –∫–æ–≥–¥–∞ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç–µ—Å—å - –Ω–∏–∫–æ–≥–æ –Ω–µ—Ç.",
                choices: [
                    { text: "üèÉ –ü–æ–±–µ–∂–∞—Ç—å –≤–ø–µ—Ä—ë–¥ –∫ —Å–≤–µ—Ç—É", anxiety: 10, score: 20 },
                    { text: "üëÇ –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –∏ –ø—Ä–∏—Å–ª—É—à–∞—Ç—å—Å—è", anxiety: -2, score: 30 },
                    { text: "üïØÔ∏è –ó–∞–∂–µ—á—å —Å–ø–∏—á–∫—É", anxiety: 6, score: 25 },
                    { text: "ü§ö –ö–æ—Å–Ω—É—Ç—å—Å—è —Ç–µ–Ω–∏", anxiety: 15, score: 35 }
                ]
            },
            {
                level: 3, name: "–ó–µ—Ä–∫–∞–ª—å–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞",
                text: "–ö–æ–º–Ω–∞—Ç–∞ –ø–æ–ª–Ω–∞ –∑–µ—Ä–∫–∞–ª. –í–∞—à–µ –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ —É–ª—ã–±–∞–µ—Ç—Å—è, —Ö–æ—Ç—è –≤—ã —ç—Ç–æ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç–µ. –í –¥—Ä—É–≥–æ–º –∑–µ—Ä–∫–∞–ª–µ –≤–∏–¥–Ω–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –¥—Ä—É–≥–∞—è –∫–æ–º–Ω–∞—Ç–∞.",
                choices: [
                    { text: "üëÅÔ∏è –°–º–æ—Ç—Ä–µ—Ç—å –≤ –≥–ª–∞–∑–∞ –æ—Ç—Ä–∞–∂–µ–Ω–∏—é", anxiety: 8, score: 25 },
                    { text: "üî® –†–∞–∑–±–∏—Ç—å –∑–µ—Ä–∫–∞–ª–æ", anxiety: 18, score: 40 },
                    { text: "üö∂ –ü—Ä–æ–π—Ç–∏ –∫ –¥—Ä—É–≥–æ–º—É –∑–µ—Ä–∫–∞–ª—É", anxiety: -4, score: 35 },
                    { text: "üôà –ó–∞–∫—Ä—ã—Ç—å –≥–ª–∞–∑–∞ –∏ –∏–¥—Ç–∏ –Ω–∞–æ—â—É–ø—å", anxiety: 14, score: 30 }
                ]
            },
            {
                level: 4, name: "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∑–∞–±—ã—Ç—ã—Ö —Å–ª–æ–≤",
                text: "–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Å—Ç–µ–ª–ª–∞–∂–∏ —Å –∫–Ω–∏–≥–∞–º–∏ –±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏–π. –û–¥–Ω–∞ –∫–Ω–∏–≥–∞ —Å–≤–µ—Ç–∏—Ç—Å—è. –ù–∞ —Å—Ç–æ–ª–µ –∫–æ–Ω–≤–µ—Ä—Ç —Å –≤–∞—à–∏–º –∏–º–µ–Ω–µ–º.",
                choices: [
                    { text: "üìñ –û—Ç–∫—Ä—ã—Ç—å —Å–≤–µ—Ç—è—â—É—é—Å—è –∫–Ω–∏–≥—É", anxiety: 11, score: 40 },
                    { text: "‚úâÔ∏è –ü—Ä–æ—á–∏—Ç–∞—Ç—å –ø–∏—Å—å–º–æ", anxiety: -5, score: 30 },
                    { text: "üî¶ –ò—Å–∫–∞—Ç—å –≤—ã—Ö–æ–¥ —Å —Ñ–æ–Ω–∞—Ä—ë–º", anxiety: 7, score: 28 },
                    { text: "ü™ë –°–µ—Å—Ç—å –∏ –ø–æ–¥–æ–∂–¥–∞—Ç—å", anxiety: 4, score: 22 }
                ]
            },
            {
                level: 5, name: "–õ–µ—Å—Ç–Ω–∏—Ü–∞ —Ä–µ—à–µ–Ω–∏–π",
                text: "–õ–µ—Å—Ç–Ω–∏—Ü–∞ –≤–≤–µ—Ä—Ö –∏ –≤–Ω–∏–∑. –ù–∞–≤–µ—Ä—Ö—É —Å–≤–µ—Ç –∏ –∫—Ä–∏–∫–∏. –í–Ω–∏–∑—É —Ç—å–º–∞ –∏ —Ç–∏—à–∏–Ω–∞. –ü–æ—Å–µ—Ä–µ–¥–∏–Ω–µ –¥–≤–µ—Ä—å '–ù–ï –û–¢–ö–†–´–í–ê–¢–¨'.",
                choices: [
                    { text: "‚¨ÜÔ∏è –ü–æ–¥–Ω—è—Ç—å—Å—è –∫ —Å–≤–µ—Ç—É", anxiety: 9, score: 38 },
                    { text: "‚¨áÔ∏è –°–ø—É—Å—Ç–∏—Ç—å—Å—è –≤ —Ç–µ–º–Ω–æ—Ç—É", anxiety: 16, score: 50 },
                    { text: "üö™ –û—Ç–∫—Ä—ã—Ç—å –∑–∞–ø—Ä–µ—Ç–Ω—É—é –¥–≤–µ—Ä—å", anxiety: 20, score: 60 },
                    { text: "üßò –ú–µ–¥–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–¥–µ—Å—å", anxiety: -8, score: 32 }
                ]
            },
            {
                level: 6, name: "–ö–æ–º–Ω–∞—Ç–∞ –≤—ã–±–æ—Ä–æ–≤",
                text: "–ß–µ—Ç—ã—Ä–µ –¥–≤–µ—Ä–∏: '–ò–°–¢–ò–ù–ê', '–õ–û–ñ–¨', '–ó–ê–ë–í–ï–ù–ò–ï' –∏ –æ–¥–Ω–∞ –±–µ–∑ –Ω–∞–¥–ø–∏—Å–∏, –∫–æ—Ç–æ—Ä–∞—è –º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å–∞–º–∞.",
                choices: [
                    { text: "‚ú® –í–æ–π—Ç–∏ –≤ –¥–≤–µ—Ä—å –ò–°–¢–ò–ù–´", anxiety: 10, score: 55 },
                    { text: "üé≠ –í—ã–±—Ä–∞—Ç—å –¥–≤–µ—Ä—å –õ–ñ–ò", anxiety: 8, score: 45 },
                    { text: "üå´Ô∏è –ü—Ä–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –ó–ê–ë–í–ï–ù–ò–ï", anxiety: -6, score: 38 },
                    { text: "‚ùì –®–∞–≥–Ω—É—Ç—å –≤ –ø—É—Å—Ç–æ—Ç—É", anxiety: 17, score: 65 }
                ]
            },
            {
                level: 7, name: "–°–∞–¥ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π",
                text: "–ü—Ä–µ–∫—Ä–∞—Å–Ω—ã–π —Å–∞–¥. –ö–∞–∂–¥—ã–π —Ü–≤–µ—Ç–æ–∫ - –∂–∏–≤–æ–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ. –°–∞–¥–æ–≤–Ω–∏–∫ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤—ã–±—Ä–∞—Ç—å, —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å.",
                choices: [
                    { text: "üåπ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—á–∞—Å—Ç–ª–∏–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã", anxiety: -7, score: 42 },
                    { text: "ü•Ä –í–∑—è—Ç—å –±–æ–ª–µ–∑–Ω–µ–Ω–Ω—ã–µ —É—Ä–æ–∫–∏", anxiety: 13, score: 58 },
                    { text: "üå∫ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è", anxiety: 6, score: 48 },
                    { text: "üî• –°–∂–µ—á—å –≤–µ—Å—å —Å–∞–¥", anxiety: 22, score: 75 }
                ]
            },
            {
                level: 8, name: "–ó–∞–ª —ç–º–æ—Ü–∏–π",
                text: "–ì–∏–≥–∞–Ω—Ç—Å–∫–∏–π –∑–∞–ª, –≥–¥–µ —ç–º–æ—Ü–∏–∏ —Å—Ç–∞–ª–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º–∏. –°—Ç—Ä–∞—Ö - —á—ë—Ä–Ω–∞—è –º–∞—Å—Å–∞. –†–∞–¥–æ—Å—Ç—å - —Å–≤–µ—Ç—è—â–∏–π—Å—è —à–∞—Ä. –ì–Ω–µ–≤ - –ø–ª–∞–º—è. –ü–µ—á–∞–ª—å - —Ç—É–º–∞–Ω.",
                choices: [
                    { text: "üò® –û–±–Ω—è—Ç—å —Å–≤–æ–π –°—Ç—Ä–∞—Ö", anxiety: 15, score: 70 },
                    { text: "üòä –í–æ—Å–ø–∞—Ä–∏—Ç—å –∫ –†–∞–¥–æ—Å—Ç–∏", anxiety: -9, score: 50 },
                    { text: "üò§ –£–∫—Ä–æ—Ç–∏—Ç—å –ì–Ω–µ–≤", anxiety: 19, score: 78 },
                    { text: "üò¢ –ü—Ä–æ–π—Ç–∏ —Å–∫–≤–æ–∑—å –ü–µ—á–∞–ª—å", anxiety: 11, score: 62 }
                ]
            },
            {
                level: 9, name: "–ü–æ—Å–ª–µ–¥–Ω–∏–π –ø–æ—Ä–æ–≥",
                text: "–§–∏–Ω–∞–ª—å–Ω–∞—è –¥–≤–µ—Ä—å. –ì–æ–ª–æ—Å —à–µ–ø—á–µ—Ç: '–û—Å—Ç–∞–Ω—å—Å—è, –∑–¥–µ—Å—å –±–µ–∑–æ–ø–∞—Å–Ω–æ'. –î—Ä—É–≥–æ–π –∫—Ä–∏—á–∏—Ç: '–ë–µ–≥–∏!' –î–≤–µ—Ä—å –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è.",
                choices: [
                    { text: "üö™ –†–∞—Å–ø–∞—Ö–Ω—É—Ç—å –¥–≤–µ—Ä—å", anxiety: 12, score: 80 },
                    { text: "üè† –û—Å—Ç–∞—Ç—å—Å—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏", anxiety: -10, score: 45 },
                    { text: "üîì –í–∑–ª–æ–º–∞—Ç—å –¥–≤–µ—Ä—å —Å–∏–ª–æ–π", anxiety: 25, score: 95 },
                    { text: "ü§î –°–ø—Ä–æ—Å–∏—Ç—å —É –≥–æ–ª–æ—Å–æ–≤", anxiety: 8, score: 68 }
                ]
            },
            {
                level: 10, name: "–ü—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ",
                text: "–í—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ: –≤—Å—ë —ç—Ç–æ - –≤–∞—à —Ä–∞–∑—É–º. –ü—Ä–æ—Å–Ω—É—Ç—å—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –∏–ª–∏ –æ—Å—Ç–∞—Ç—å—Å—è –≤–ª–∞—Å—Ç–µ–ª–∏–Ω–æ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –º–∏—Ä–∞?",
                choices: [
                    { text: "‚òÄÔ∏è –ü—Ä–æ—Å–Ω—É—Ç—å—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏", anxiety: 0, score: 100 },
                    { text: "üåô –û—Å—Ç–∞—Ç—å—Å—è –≤–ª–∞—Å—Ç–µ–ª–∏–Ω–æ–º —Å–Ω–æ–≤", anxiety: 28, score: 110 },
                    { text: "‚ôæÔ∏è –ù–∞—á–∞—Ç—å –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –∑–∞–Ω–æ–≤–æ", anxiety: 10, score: 85 },
                    { text: "üé≠ –ü—Ä–∏–Ω—è—Ç—å –æ–±–µ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏", anxiety: 18, score: 130 }
                ]
            }
        ];

        function startGame() {
            gameState = { level: 1, score: 0, anxiety: 0, decisions: 0, currentScenario: 0 };
            showScreen('game-screen');
            loadScenario();
            updateStats();
        }

        function loadScenario() {
            const scenario = scenarios[gameState.currentScenario];
            if (!scenario) {
                endGame(false);
                return;
            }
            document.getElementById('level-display').textContent = `–£—Ä–æ–≤–µ–Ω—å ${scenario.level}`;
            document.getElementById('level-name').textContent = scenario.name;
            document.getElementById('scenario-text').textContent = scenario.text;
            const choicesContainer = document.getElementById('choices-container');
            choicesContainer.innerHTML = '';
            scenario.choices.forEach((choice, index) => {
                setTimeout(() => {
                    const choiceDiv = document.createElement('div');
                    choiceDiv.className = 'choice';
                    choiceDiv.textContent = choice.text;
                    choiceDiv.onclick = () => makeChoice(choice);
                    choicesContainer.appendChild(choiceDiv);
                }, index * 150);
            });
        }

        function makeChoice(choice) {
            gameState.score += choice.score;
            gameState.anxiety += choice.anxiety;
            gameState.decisions++;
            if (gameState.anxiety < 0) gameState.anxiety = 0;
            if (gameState.anxiety > 100) gameState.anxiety = 100;
            updateStats();
            if (choice.anxiety > 12) {
                document.getElementById('main-container').classList.add('shake');
                setTimeout(() => document.getElementById('main-container').classList.remove('shake'), 400);
            }
            if (gameState.anxiety >= 100) {
                setTimeout(() => endGame(true), 800);
                return;
            }
            gameState.currentScenario++;
            gameState.level = gameState.currentScenario + 1;
            if (gameState.currentScenario >= scenarios.length) {
                setTimeout(() => endGame(false), 800);
            } else {
                setTimeout(() => loadScenario(), 800);
            }
        }

        function updateStats() {
            document.getElementById('stat-level').textContent = gameState.level;
            document.getElementById('stat-score').textContent = gameState.score;
            document.getElementById('stat-decisions').textContent = gameState.decisions;
            const anxietyPercent = Math.round(gameState.anxiety);
            document.getElementById('stat-anxiety').textContent = anxietyPercent + '%';
            document.getElementById('anxiety-fill').style.width = anxietyPercent + '%';
        }

        function endGame(anxietyOverload = false) {
            let title, message;
            if (anxietyOverload) {
                title = 'üò∞ –ü–û–ì–õ–û–©–Å–ù –°–¢–†–ê–•–û–ú';
                message = '–£—Ä–æ–≤–µ–Ω—å —Ç—Ä–µ–≤–æ–≥–∏ –¥–æ—Å—Ç–∏–≥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–º–µ—Ç–∫–∏. –í–∞—à —Ä–∞–∑—É–º –Ω–µ –≤—ã–¥–µ—Ä–∂–∞–ª –∏—Å–ø—ã—Ç–∞–Ω–∏—è.';
            } else if (gameState.score >= 800) {
                title = 'üèÜ –ê–ë–°–û–õ–Æ–¢–ù–´–ô –ú–ê–°–¢–ï–†';
                message = '–ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ! –í—ã –ø—Ä–æ—à–ª–∏ –≤—Å–µ 10 —É—Ä–æ–≤–Ω–µ–π —Å –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–º –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ–º!';
            } else if (gameState.score >= 600) {
                title = '‚≠ê –ü–û–ë–ï–î–ò–¢–ï–õ–¨';
                message = '–í–µ–ª–∏–∫–æ–ª–µ–ø–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –í—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–µ–æ–¥–æ–ª–µ–ª–∏ –≤—Å–µ 10 —É—Ä–æ–≤–Ω–µ–π –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ —Å–æ–∑–Ω–∞–Ω–∏—è!';
            } else if (gameState.score >= 400) {
                title = 'üé≠ –í–´–ñ–ò–í–®–ò–ô';
                message = '–í—ã –ø—Ä–æ—à–ª–∏ –≤—Å–µ 10 —É—Ä–æ–≤–Ω–µ–π, –Ω–æ –ø—É—Ç—å –±—ã–ª –Ω–µ–ø—Ä–æ—Å—Ç—ã–º.';
            } else {
                title = 'üå´Ô∏è –ó–ê–í–ï–†–®–ï–ù–û';
                message = '–í—ã –ø—Ä–æ—à–ª–∏ –ø—É—Ç—å –¥–æ –∫–æ–Ω—Ü–∞! –ö–∞–∂–¥–∞—è –ø–æ–ø—ã—Ç–∫–∞ –¥–µ–ª–∞–µ—Ç –≤–∞—Å —Å–∏–ª—å–Ω–µ–µ!';
            }
            document.getElementById('result-title').textContent = title;
            document.getElementById('result-message').textContent = message;
            document.getElementById('final-score').textContent = gameState.score;
            document.getElementById('final-level').textContent = 10;
            document.getElementById('final-decisions').textContent = gameState.decisions;
            document.getElementById('final-anxiety').textContent = Math.round(gameState.anxiety) + '%';
            showScreen('result-screen');
        }

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => screen.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        function restartGame() { startGame(); }
        function backToMenu() { showScreen('menu-screen'); }
        function showRules() {
            alert(`üéÆ –ü–†–ê–í–ò–õ–ê "–¢–ï–ù–ò –°–û–ó–ù–ê–ù–ò–Ø"\n\nüìä –¶–ï–õ–¨: –ü—Ä–æ–π—Ç–∏ –≤—Å–µ 10 —É—Ä–æ–≤–Ω–µ–π\n\nüò∞ –¢–†–ï–í–û–ì–ê:\n‚Ä¢ –ü—Ä–∏ 100% —Ç—Ä–µ–≤–æ–≥–∏ - –∏–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!\n‚Ä¢ –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –≤—ã–±–æ—Ä—ã –°–ù–ò–ñ–ê–Æ–¢ —Ç—Ä–µ–≤–æ–≥—É\n‚Ä¢ –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ü–û–í–´–®–ê–Æ–¢\n\n‚≠ê –ë–ê–õ–õ–´:\n‚Ä¢ –ß–µ–º –æ–ø–∞—Å–Ω–µ–µ –≤—ã–±–æ—Ä - —Ç–µ–º –±–æ–ª—å—à–µ –±–∞–ª–ª–æ–≤\n\nüí° –°–¢–†–ê–¢–ï–ì–ò–Ø:\n‚Ä¢ –ë–∞–ª–∞–Ω—Å–∏—Ä—É–π—Ç–µ –º–µ–∂–¥—É —Ä–∏—Å–∫–æ–º –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é\n‚Ä¢ –£–≥–∞–¥—ã–≤–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –ø–æ —Ç–µ–∫—Å—Ç—É\n‚Ä¢ –ù–ï–¢ —Ü–≤–µ—Ç–æ–≤—ã—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫!`);
        }
    </script>
</body>
</html>
